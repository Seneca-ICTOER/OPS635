<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-A-Labs/lab4">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-rc.1">
<link rel="icon" href="/OPS635/img/pwa/icon-512x512.png">
<link rel="manifest" href="/OPS635/manifest.json">
<meta name="theme-color" content="#DA291C">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#DA291C">
<link rel="apple-touch-icon" href="/OPS635/img/pwa/icon-192x192.png">
<link rel="mask-icon" href="/OPS635/img/pwa/icon-512x512.png" color="#DA291C">
<meta name="msapplication-TileImage" content="/OPS635/img/pwa/icon-512x512.png">
<meta name="msapplication-TileColor" content="#DA291C">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><title data-rh="true">Lab 4 | OPS635 Course Title</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://Seneca-ICTOER.github.io//OPS635/A-Labs/lab4"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 4 | OPS635 Course Title"><meta data-rh="true" name="description" content="Lab 4 For Students to Complete and Submit"><meta data-rh="true" property="og:description" content="Lab 4 For Students to Complete and Submit"><link data-rh="true" rel="icon" href="/OPS635/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://Seneca-ICTOER.github.io//OPS635/A-Labs/lab4"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OPS635/A-Labs/lab4" hreflang="en"><link data-rh="true" rel="alternate" href="https://Seneca-ICTOER.github.io//OPS635/A-Labs/lab4" hreflang="x-default"><link rel="stylesheet" href="/OPS635/assets/css/styles.099fe1a9.css">
<link rel="preload" href="/OPS635/assets/js/runtime~main.4b12d2d8.js" as="script">
<link rel="preload" href="/OPS635/assets/js/main.6d9ef4ac.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/OPS635/"><div class="navbar__logo"><img src="/OPS635/img/logo.svg" alt="Seneca College" class="themedImage_ToTc themedImage--light_HNdA"><img src="/OPS635/img/logo-dark.svg" alt="Seneca College" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">OPS635 Course Title</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OPS635/">Welcome to OPS635</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/OPS635/weekly-schedule">Weekly Schedule</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/OPS635/A-Labs/prelab">Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS635/A-Labs/prelab">Prelab 0 - Host installation and virtual network setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS635/A-Labs/lab1">Lab 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS635/A-Labs/lab2">Lab 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS635/A-Labs/lab3">Lab 3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/OPS635/A-Labs/lab4">Lab 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS635/A-Labs/lab5">Lab 5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/OPS635/A-Labs/lab6">Lab 6</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OPS635/B-Assignments/topic-file-1">Assignments</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/OPS635/C-ExtraResources/docker-installation-instructions">Extra Resources</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/OPS635/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Labs</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 4</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OPS635 Lab 4: System Configuration Management using Ansible</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>In an enterprise environment, the existence of different hardware and operating systems running on production servers is very common. You may find the same software running on different OSes and even different hardware platforms. To manage the software configuration on different platforms by using a script, your script would have to be aware of and account for their differences. Your scripts would need to be written in way that they know how to query the operating environment and execute the appropriate installation and configuration actions based on the operating environment it is running on.</p><p>There are commercial and open source configuration management systems which aware of and know how to handle such difference in operating platforms. <strong>Ansible</strong> is one such CMS (Content Management System). In this lab you will gain experience using the basic features of ansible to remotely configure other machines.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-1-installing-ansible">Investigation 1: Installing Ansible<a class="hash-link" href="#investigation-1-installing-ansible" title="Direct link to heading">​</a></h2><ul><li><p>Install Ansible on one of your VMs (we will refer to that as the server).</p><ul><li>Current installation instructions can be found here (&lt;- ADD LINK).</li></ul></li><li><p>If you have not already done so, create an SSH key-pair for a <strong>non-root user on your server</strong> and transfer the public portion of it to another VM (we will refer to it as the client). Ensure that you can use it to ssh to a non-root account on the client by entering a passphrase.</p></li><li><p>Modify the inventory file on your server to include the fully qualified domain names of client VM.</p></li><li><p>Use the <strong>setup module</strong> to verify that your Ansible server can run plays on your client VM.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-2-running-single-ansible-commands">Investigation 2: Running Single Ansible Commands<a class="hash-link" href="#investigation-2-running-single-ansible-commands" title="Direct link to heading">​</a></h2><ul><li><p>Use the ansible command on your server to make sure the client meets the following conditions:</p><ul><li>The bind-utils package is fully up-to-date.</li><li>The firewall-cmd service is running and enabled.</li><li>Firewalld is not allowing the mdns or cockpit services. Remember to also make this permanent.</li></ul></li><li><p>Use the terminal on the client to confirm these changes worked.</p></li><li><p>While these changes are not important to the service you will configure using a playbook in the next investigation, they give you some experience using one-off commands in ansible.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-3-creating-an-ansible-playbook">Investigation 3: Creating an Ansible Playbook<a class="hash-link" href="#investigation-3-creating-an-ansible-playbook" title="Direct link to heading">​</a></h2><ul><li><p>Create an ansible playbook to make your client machine meet the following conditions:</p><ul><li>The httpd package must be installed</li><li>The httpd service must be enabled and running</li><li>A simple webpage of your creation must be the DocumentRoot.</li><li>Provide a copy of the configuration file with some minor changes (e.g. ServerAdmin)</li><li>The firewall must be allowing traffic to your webservers.</li></ul></li><li><p>Run your play and ensure it makes the required changes.</p></li><li><p>Break your machine (e.g. modify the configuration file), then re-run your play and ensure it fixes your machine.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="investigation-4-advanced-playbook-options">Investigation 4: Advanced Playbook Options<a class="hash-link" href="#investigation-4-advanced-playbook-options" title="Direct link to heading">​</a></h2><ul><li>Add a handler to your playbook to re-start the httpd service when changes to the configuration file are discovered.</li><li>Replace the configuration file with a template and provide at least one variable to it.</li><li>Re-run your play and ensure it makes the required changes to your machine.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="submission">Submission<a class="hash-link" href="#submission" title="Direct link to heading">​</a></h2><p>Upload your playbook and template file to blaockboard.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="completing-the-lab">Completing the Lab<a class="hash-link" href="#completing-the-lab" title="Direct link to heading">​</a></h2><p>In completing this lab you have learned how to use common elements of ansible to provision services on machines under your control. With ansible in place you can automatically configure and repair services under your control, making configuration and maintenance of your machines much more efficient.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Seneca-ICTOER/OPS635/tree/main/docs/A-Labs/lab4.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/OPS635/A-Labs/lab3"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 3</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/OPS635/A-Labs/lab5"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 5</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#investigation-1-installing-ansible" class="table-of-contents__link toc-highlight">Investigation 1: Installing Ansible</a></li><li><a href="#investigation-2-running-single-ansible-commands" class="table-of-contents__link toc-highlight">Investigation 2: Running Single Ansible Commands</a></li><li><a href="#investigation-3-creating-an-ansible-playbook" class="table-of-contents__link toc-highlight">Investigation 3: Creating an Ansible Playbook</a></li><li><a href="#investigation-4-advanced-playbook-options" class="table-of-contents__link toc-highlight">Investigation 4: Advanced Playbook Options</a></li><li><a href="#submission" class="table-of-contents__link toc-highlight">Submission</a></li><li><a href="#completing-the-lab" class="table-of-contents__link toc-highlight">Completing the Lab</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OPS635 Course Title</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/OPS635/">Contents</a></li><li class="footer__item"><a href="#" id="pwa-button" class="footer__link-item" hidden>Install as an App</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Seneca College.</div></div></div></footer></div>
<script src="/OPS635/assets/js/runtime~main.4b12d2d8.js"></script>
<script src="/OPS635/assets/js/main.6d9ef4ac.js"></script>
</body>
</html>