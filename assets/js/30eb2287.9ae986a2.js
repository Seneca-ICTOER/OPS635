"use strict";(self.webpackChunkOPS635=self.webpackChunkOPS635||[]).push([[422],{3905:function(e,t,i){i.d(t,{Zo:function(){return u},kt:function(){return p}});var n=i(7294);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var o=n.createContext({}),c=function(e){var t=n.useContext(o),i=t;return e&&(i="function"==typeof e?e(t):s(s({},t),e)),i},u=function(e){var t=c(e.components);return n.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var i=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(i),p=r,f=d["".concat(o,".").concat(p)]||d[p]||m[p]||a;return i?n.createElement(f,s(s({ref:t},u),{},{components:i})):n.createElement(f,s({ref:t},u))}));function p(e,t){var i=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=i.length,s=new Array(a);s[0]=d;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:r,s[1]=l;for(var c=2;c<a;c++)s[c]=i[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,i)}d.displayName="MDXCreateElement"},1396:function(e,t,i){i.r(t),i.d(t,{assets:function(){return o},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return a},metadata:function(){return l},toc:function(){return c}});var n=i(3117),r=(i(7294),i(3905));const a={id:"lab3",title:"Lab 3",sidebar_position:4,description:"Lab 3 For Students to Complete and Submit"},s="Lab 3: Distributed FileSystems with GlusterFS",l={unversionedId:"A-Labs/lab3",id:"A-Labs/lab3",title:"Lab 3",description:"Lab 3 For Students to Complete and Submit",source:"@site/docs/A-Labs/lab3.md",sourceDirName:"A-Labs",slug:"/A-Labs/lab3",permalink:"/OPS635/A-Labs/lab3",draft:!1,editUrl:"https://github.com/Seneca-ICTOER/OPS635/tree/main/docs/A-Labs/lab3.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"lab3",title:"Lab 3",sidebar_position:4,description:"Lab 3 For Students to Complete and Submit"},sidebar:"courseNotesSidebar",previous:{title:"Lab 2",permalink:"/OPS635/A-Labs/lab2"},next:{title:"Lab 4",permalink:"/OPS635/A-Labs/lab4"}},o={},c=[{value:"Overview",id:"overview",level:2},{value:"Investigation 1: Creating a Distributed Filesystem in GlusterFS",id:"investigation-1-creating-a-distributed-filesystem-in-glusterfs",level:2},{value:"Investigation 2: Adding Bricks to a Distributed Filesystem in GlusterFS",id:"investigation-2-adding-bricks-to-a-distributed-filesystem-in-glusterfs",level:2},{value:"Investigation 3: Creating a Replicated Filesystem in GlusterFS",id:"investigation-3-creating-a-replicated-filesystem-in-glusterfs",level:2},{value:"Submission",id:"submission",level:2}],u={toc:c};function m(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"lab-3-distributed-filesystems-with-glusterfs"},"Lab 3: Distributed FileSystems with GlusterFS"),(0,r.kt)("h2",{id:"overview"},"Overview"),(0,r.kt)("p",null,"In addition to traditional methods of remotely sharing files (e.g. NFS, samba), modern operating systems have the ability to access cloud-based distributed filesystems like GlusterFS. These can integrate the kinds of advantages you are used to seeing in RAID based fileystems (i.e. redundancy, self-healing, faster access) while removing the single-point-of-failure issue inherent in hosting a service on a single machine. While this lab does not explore the full functionality of this service (notably the use of arbiters, or combining the different types of GlusterFS volumes to gain the advantages of both), it will introduce you to be basics of creating a GlusterFS volume and accessing it from a client."),(0,r.kt)("h2",{id:"investigation-1-creating-a-distributed-filesystem-in-glusterfs"},"Investigation 1: Creating a Distributed Filesystem in GlusterFS"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install glusterfs on three virtual machines (either newly installed, or already configured from earlier labs). You will need a fourth machine (which can be your host, or another VM) to act as the client.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Configure each server with two 1GiB xfs filesystems to be used in the distributed filesystem.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Combine one brick from two VMs into a 2GiB distributed filesystem and mount it on your client. Use df -hT to view the size of the filesystem from the client\u2019s perspective.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On your client, copy or create 10 files in the remote mount."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"On each server, use ls to view which files are stored on each brick. Observe that only half the files appear on either server, but the client can view a complete list."),(0,r.kt)("li",{parentName:"ol"},"Disable one of the bricks (e.g. by blocking the ports on the firewall), and observe which files remain visible on the client."),(0,r.kt)("li",{parentName:"ol"},"Re-activate the brick, and observe that the client regains the ability to view all files.")))),(0,r.kt)("h2",{id:"investigation-2-adding-bricks-to-a-distributed-filesystem-in-glusterfs"},"Investigation 2: Adding Bricks to a Distributed Filesystem in GlusterFS"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"On the third server, create a 1GiB brick and add it to the volume."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Remember to stop the volume before you add the brick to it. Then restart it."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Use ls to observe even after it is added, no files are immediately stored on it."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"On the client create more files. Note that this may require re-mounting the filesystem in order to access the extended space.")))),(0,r.kt)("h2",{id:"investigation-3-creating-a-replicated-filesystem-in-glusterfs"},"Investigation 3: Creating a Replicated Filesystem in GlusterFS"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Combine the remaining brick from each VM into a 1GiB replicated filesystem and mount it on your client. Use df -hT to view the size of the filesystem from the client\u2019s perspective."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"On each server, use ls to view which files are stored on each brick. Observe that each brick has a duplicate set of files."),(0,r.kt)("li",{parentName:"ol"},"Disable one of the bricks (e.g. by blocking the ports on the firewall), and observe that all files remain visible on the client."),(0,r.kt)("li",{parentName:"ol"},"Re-activate the brick."),(0,r.kt)("li",{parentName:"ol"},"On the third server, create a 1GiB brick and add it to the volume. Use ls to observe that it immediately obtains a copy of the files."),(0,r.kt)("li",{parentName:"ol"},"Note that from the client perspective, this is still a 1GiB filesystem. It now simply has another duplicate copy of the files.")))),(0,r.kt)("h2",{id:"submission"},"Submission"),(0,r.kt)("p",null,"upload the output of the following commands to blackboard:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"gluster pool list"),(0,r.kt)("li",{parentName:"ul"},"gluster volume info"),(0,r.kt)("li",{parentName:"ul"},"gluster volume status")))}m.isMDXComponent=!0}}]);